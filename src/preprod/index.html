<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Make Online Course</title>
    <link rel="stylesheet" href="../styles.css">
</head>
<body>
<header class="header">
    <div class="container">
        <h1>Create Your Online Course</h1>
        <p>Use AI to generate your course content effortlessly.</p>
    </div>
</header>

<main class="main-content">
    <div class="container">
        <section class="form-section">
            <form id="courseForm" action="https://docs.google.com/forms/d/e/1FAIpQLSemaclvFT6-CT6lCv_a9cffxnVPWWH_3SyubKoJUx2iuUDjzQ/formResponse" method="POST" target="_self" onsubmit="redirectAfterSubmit(event)">
                <div class="form-group">
                    <label for="courseTitle">Course Title</label>
                    <input type="text" id="courseTitle" name="entry.87097577" required>
                </div>

                <div class="form-group">
                    <label for="courseDescription">Course Description</label>
                    <textarea id="courseDescription" name="entry.681228756" rows="5" required></textarea>
                </div>

                <div class="form-group">
                    <label for="courseLevel">Level</label>
                    <select id="courseLevel" name="entry.124323297" required>
                        <option value="" disabled selected>Select Level</option>
                        <option value="Beginner">Beginner</option>
                        <option value="Intermediate">Intermediate</option>
                        <option value="Expert">Expert</option>
                        <option value="All Levels">All Levels</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="courseDuration">How long do you want the course to be?</label>
                    <select id="courseDuration" name="entry.1539376226" required>
                        <option value="" disabled selected>Select Duration</option>
                        <option value="Under 1 hour">Under 1 hour</option>
                        <option value="1-2 hours">1-2 hours</option>
                        <option value="2-3 hours">2-3 hours</option>
                        <option value="3-4 hours">3-4 hours</option>
                        <option value="4-5 hours">4-5 hours</option>
                        <option value="5-6 hours">5-6 hours</option>
                        <option value="6-7 hours">6-7 hours</option>
                        <option value="Over 7 hours">Over 7 hours</option>
                    </select>
                </div>

                <div class="form-group">
                    <button type="submit" class="submit-button">Submit</button>
                </div>
            </form>
        </section>
    </div>
</main>

<footer class="footer">
    <div class="container">
        <p>&copy; 2024 Amit Marmari</p>
        <div class="social-links">
            <a href="https://www.facebook.com/amit.marmari" target="_blank" aria-label="Facebook">
                <i class="fab fa-facebook-f"></i>
            </a>
            <a href="https://www.instagram.com/amitmarmari" target="_blank" aria-label="Instagram">
                <i class="fab fa-instagram"></i>
            </a>
            <a href="https://www.linkedin.com/in/amit-marmari/" target="_blank" aria-label="LinkedIn">
                <i class="fab fa-linkedin-in"></i>
            </a>
        </div>
    </div>
</footer>

<script>
    function redirectAfterSubmit(event) {
      event.preventDefault(); // Prevent the default form submission

      // Submit the form via an XMLHttpRequest to avoid redirection by Google Forms
      const form = document.getElementById('courseForm');
      const formData = new FormData(form);

      // Create an XMLHttpRequest to submit the form
      const xhr = new XMLHttpRequest();
      xhr.open('POST', form.action, true);
      xhr.setRequestHeader('Accept', 'application/x-www-form-urlencoded');

      // Set up a handler to redirect once the submission is complete
      xhr.onload = function () {
        if (xhr.status >= 200 && xhr.status < 400) {
          // Redirect to the thank-you page
          window.location.href = 'https://makeonlinecourse.com/thank-you.html';
        } else {
          // Handle error
          console.error('Form submission failed.');
        }
      };

      xhr.onerror = function () {
        // Handle error
        console.error('Form submission failed.');
      };

      // Convert formData to a URL-encoded string
      const urlEncodedData = new URLSearchParams(formData).toString();

      // Send the request with the form data
      xhr.send(urlEncodedData);
    }
</script>

</body>
</html>
